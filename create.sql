create table tb_alocacao_sala (dia_semana tinyint not null check (dia_semana between 0 and 6), id_alocacao integer generated by default as identity, id_sala integer not null, id_turma integer not null, tempo tinyint not null check (tempo between 0 and 2), primary key (id_alocacao));
create table tb_disciplina (ar_condicionado boolean not null, id_disciplina integer generated by default as identity, laboratorio boolean not null, lousa_digital boolean not null, nome_disciplina varchar(255) not null, primary key (id_disciplina));
create table tb_indisponibilidade (dia_semana tinyint not null check (dia_semana between 0 and 6), id_indisponibilidade integer generated by default as identity, id_sala integer not null, tempo tinyint not null check (tempo between 0 and 2), primary key (id_indisponibilidade));
create table tb_sala (ar_condicionado boolean not null, capacidade_maxima integer check (capacidade_maxima>=1), id_sala integer generated by default as identity, laboratorio boolean not null, lousa_digital boolean not null, numero bigint check (numero>=1), bloco varchar(255) not null, primary key (id_sala));
create table tb_turma (codigo_horario integer check ((codigo_horario<=6) and (codigo_horario>=1)), id_disciplina integer, id_turma integer generated by default as identity, quantidade_alunos integer check (quantidade_alunos>=1), turma_grade_antiga boolean not null, professor varchar(255) not null, primary key (id_turma));
alter table if exists tb_alocacao_sala add constraint FKc3axgy8g876wwfbrcvcea5xxt foreign key (id_sala) references tb_sala;
alter table if exists tb_alocacao_sala add constraint FKl5w5yx189ekf30228amguu6o2 foreign key (id_turma) references tb_turma;
alter table if exists tb_indisponibilidade add constraint FK8b7syaust1c1lnay169bgyh4p foreign key (id_sala) references tb_sala;
alter table if exists tb_turma add constraint FKskatkbl03ms1mxcwlge4pm4c3 foreign key (id_disciplina) references tb_disciplina;
